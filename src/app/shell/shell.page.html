<!-- src/app/shell/shell.page.html -->

<!-- Header superiore -->
<ion-header>
  <ion-toolbar>
    <!-- ðŸ” Hamburger sempre visibile -->
    <ion-buttons slot="start">
      <ion-menu-button [autoHide]="false"></ion-menu-button>
    </ion-buttons>

    <ion-title>Admin</ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="onLogout()">Logout</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!-- âœ… Menu OVERLAY: CHIUSO di default, apribile con hamburger o swipe -->
<ion-menu contentId="main-content" type="overlay" swipeGesture="true">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <!-- [autoHide]="false" per mantenere evidenziata la voce attiva -->
      <ion-menu-toggle [autoHide]="false" *ngFor="let item of items">
        <ion-item button [routerLink]="item.path" routerLinkActive="ion-activated">
          <ion-icon slot="start" *ngIf="item.icon" [name]="item.icon"></ion-icon>
          <ion-label>{{ item.label }}</ion-label>

          <!-- Badge "in attesa" per la lista prenotazioni -->
          <ion-badge *ngIf="item.badge && pendingToday() >= 0" slot="end" color="warning">
            {{ pendingToday() }}
          </ion-badge>
        </ion-item>
      </ion-menu-toggle>
    </ion-list>
  </ion-content>
</ion-menu>

<!-- Area contenuti (target del menu overlay) -->
<ion-router-outlet id="main-content"></ion-router-outlet>
