<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <title>Admin PWA</title>

  <!-- ðŸ”´ IMPORTANTE: base assoluta per SPA -->
  <!-- Senza questo, se apri direttamente /orders/new i percorsi a chunk/js/css diventano relativi e l'app resta bianca -->
  <base href="/" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ðŸ‘‡ facilita il client_id per il FE -->
  <meta name="google-client-id" content="512175551489-082s3f7pri0rl9uv0ujkiko31dnoo8o7.apps.googleusercontent.com" />

  <!-- Google Identity Services (necessario per il popup) -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- ðŸ›Ÿ DEV-ONLY â€œparacaduteâ€: se un vecchio Service Worker rimane registrato su questa origin (es. da una preview prod),
       in DEV (porta 8100 / localhost) lo sgancio per evitare schermate bianche su deep-link.
       Non tocca la produzione e non modifica le tue logiche runtime. -->
  <script>
    (function () {
      try {
        var isDev = (location.hostname === 'localhost') || (location.port === '8100');
        if (isDev && 'serviceWorker' in navigator && navigator.serviceWorker.getRegistrations) {
          navigator.serviceWorker.getRegistrations().then(function (regs) {
            regs.forEach(function (r) { r.unregister().catch(function () {}); });
          });
        }
      } catch (_) {
        /* no-op: silenzioso in dev */
      }
    })();
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
