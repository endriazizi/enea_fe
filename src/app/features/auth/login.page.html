<!-- src/app/features/auth/login.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" style="max-width:420px; margin:24px auto; padding:16px;">

    <ion-item>
      <ion-label position="stacked">Email</ion-label>
      <ion-input type="email" formControlName="email" placeholder="you@example.com"></ion-input>
    </ion-item>
    <ion-note *ngIf="email.invalid && (email.dirty || email.touched)" color="danger" style="margin-left:8px;">
      Email non valida
    </ion-note>

    <ion-item style="margin-top:12px;">
      <ion-label position="stacked">Password</ion-label>
      <ion-input type="password" formControlName="password" placeholder="••••••••"></ion-input>
    </ion-item>
    <ion-note *ngIf="password.invalid && (password.dirty || password.touched)" color="danger" style="margin-left:8px;">
      Password richiesta
    </ion-note>

    <ion-button expand="block" type="submit" [disabled]="loading() || form.invalid" style="margin-top:16px;">
      {{ loading() ? 'Accesso…' : 'Entra' }}
    </ion-button>

    <p *ngIf="error()" style="color:#dc2626; margin-top:10px;">{{ error() }}</p>
  </form>
</ion-content>
